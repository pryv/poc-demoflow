{"version":3,"sources":["webpack:///src/App.vue","webpack:///./src/App.vue?9e55","webpack:///./src/App.vue","webpack:///src/components/Accesses.vue","webpack:///./src/components/Accesses.vue?777a","webpack:///./src/components/Accesses.vue","webpack:///src/components/Audit.vue","webpack:///./src/components/Audit.vue?fa54","webpack:///./src/components/Audit.vue","webpack:///src/components/Data.vue","webpack:///./src/components/Data.vue?09c6","webpack:///./src/components/Data.vue","webpack:///src/components/Main.vue","webpack:///./src/components/Main.vue?37cc","webpack:///./src/components/Main.vue","webpack:///./src/main.js","webpack:///./node_modules/pryv/package.json"],"names":["App","name","data","console","log","window","pryvUsername","username","state2","computed","state","this","created","_this","asyncToGenerator_default","regenerator_default","a","mark","_callee","pryvConnection","wrap","_context","prev","next","pryvApiEndpoint","$route","query","error","src_default","Connection","sent","stop","selectortype_template_index_0_src_App","render","_vm","_h","$createElement","_c","_self","attrs","id","_v","_s","to","staticRenderFns","src_App","__webpack_require__","normalizeComponent","ssrContext","accessesMap","Accesses_displayBy","key","access","fields","title","display","Date","toLocaleString","displayRaw","type","startsWith","deleted","expires","selectedItem","Accesses","props","search","UserInput","accesses","pagination","sortBy","descending","rowsPerPage","selected","res","connection","get","includeExpired","includeDeletions","t0","abrupt","unshift","now","lastUsed","accessDeletions","concat","forEach","methods","filteredAccesses","_this2","filter","includes","GoToRoute","$router","push","params","changeSort","column","onSelect","item","createdByName","modifiedByName","onSelectProp","components_Accesses","staticClass","headers","items","select-all","item-key","on","update:pagination","$event","scopedSlots","_u","fn","_e","_l","header","class","click","small","active","field","model","value","callback","$$v","expression","src_components_Accesses","Accesses_normalizeComponent","Audit_fields","auditLog","time","content","action","source","ip","forwardedFor","details","others","assign_default","modified","modifiedBy","streamIds","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","get_iterator_default","keys_default","done","err","return","Audit_selectedItem","Audit","properties","auditLogs","Array","default","components_Audit","expanded","flat","detail","staticStyle","white-space","text-align","domProps","innerHTML","src_components_Audit","Audit_normalizeComponent","Data_details","stringify_default","permissions","clientData","marked_default","Data_displayDate","Data_displayRaw","Data","components","auditLogsMap","selectedAccess","selectAccess","_ref","_callee2","logs","_context2","getRaw","streams","body","_x","apply","arguments","components_Data","src_components_Data","Data_normalizeComponent","Main","splitPane","vue_split_pane_min_default","onEventLoaded","onAccessSelect","$refs","dataView","resize","components_Main","min-percent","default-percent","split","slot","ref","src_components_Main","Main_normalizeComponent","Vue","use","Vuetify","VueRouter","routes","path","component","router","base","location","pathname","mode","v","el","template","$mount","module","exports","version","homepage","description","keywords","repository","url","bugs","author","main","license","scripts","setup","build","doc","test","test-debug","test:browser","cover","cover:report","webserver","gh-pages","clear","contributors","email","dependencies","superagent","devDependencies","@pryv/lib-js-common","@pryv/monitor","@pryv/socket.io","chai","chai-as-promised","cuid","mocha","node-fetch","nyc","rec-la","universal-url","zombie"],"mappings":"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","file":"static/js/app.7c8197bd89e0226350c1.js","sourcesContent":["<template>\n  <div id=\"app\">\n    <div v-if=\"username == null\">\n      Missing pryvApiEndpoint\n    </div>\n    <div v-else>\n      <div v-if=\"state == 'loading'\">\n        Loading ...\n      </div>\n      <div v-else>\n        <div v-if=\"state == 'nok'\">\n          Failed\n        </div>\n        <div v-else>\n          Audit for user: {{username}}\n          <router-link v-bind:to=\"'./'\">Accesses</router-link>\n          <router-view></router-view>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Pryv from 'pryv';\n\n  export default {\n    name: 'app',\n    data () {\n    \n\n      console.log(\"*\" + window.pryvUsername  + \"*\");\n      return {\n        username: window.pryvUsername,\n        state2: 'loading'\n      }\n    },\n    computed: {\n      state() {\n        return this.state2\n      }\n    },\n    async created () {\n      \n        window.pryvApiEndpoint =  this.$route.query.pryvApiEndpoint || null;\n      if (window.pryvApiEndpoint == null) {\n        console.error('pryvApiEndpoint is not set');\n\n      }\n      const pryvConnection = new Pryv.Connection(window.pryvApiEndpoint);\n      window.pryvConnection = pryvConnection;\n      window.pryvUsername = await pryvConnection.username();\n      this.username = window.pryvUsername;\n      \n      this.state2 = 'ok';\n      console.log('ok', pryvConnection);\n    }\n  }\n</script>\n<!-- styling for the component -->\n<style>\n  #app {\n    font-family: 'Roboto', Helvetica, Arial, sans-serif;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n    text-align: center;\n    color: #2c3e50;\n    margin-top: 60px;\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[(_vm.username == null)?_c('div',[_vm._v(\"\\n    Missing pryvApiEndpoint\\n  \")]):_c('div',[(_vm.state == 'loading')?_c('div',[_vm._v(\"\\n      Loading ...\\n    \")]):_c('div',[(_vm.state == 'nok')?_c('div',[_vm._v(\"\\n        Failed\\n      \")]):_c('div',[_vm._v(\"\\n        Audit for user: \"+_vm._s(_vm.username)+\"\\n        \"),_c('router-link',{attrs:{\"to\":'./'}},[_vm._v(\"Accesses\")]),_vm._v(\" \"),_c('router-view')],1)])])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-1bc4dcb8\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-1bc4dcb8\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-1bc4dcb8\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","<template>\n  <v-data-table\n    v-model=\"selected\"\n    :headers=\"fields\"\n    :items=\"filteredAccesses()\"\n    :pagination.sync=\"pagination\"\n    select-all\n    item-key=\"id\"\n    class=\"elevation-1\"\n  >\n    <template slot=\"headers\" slot-scope=\"props\">\n      <!-- Search field, deactivated for now (remove v-if to activate) -->\n      <v-text-field\n        v-if=\"false\"\n        v-model=\"search\"\n        append-icon=\"search\"\n        label=\"Filter by access id\"\n        single-line\n        hide-details\n      ></v-text-field>\n      <tr>\n        <th\n          v-for=\"header in props.headers\"\n          :key=\"header.key\"\n          :class=\"['column sortable', pagination.descending ? 'desc' : 'asc', header.name === pagination.sortBy ? 'active' : '']\"\n          @click=\"changeSort(header.key)\"\n        >\n          <v-icon small>arrow_upward</v-icon>\n          {{ header.title }}\n        </th>\n      </tr>\n    </template>\n    <template slot=\"items\" slot-scope=\"props\">\n      <tr :active=\"props.selected\" @click=\"onSelect(props.item)\">\n        <td v-for=\"field in fields\" class=\"text-xs-left\">\n          {{ field.display(props.item) }}\n        </td>\n      </tr>\n    </template>\n  </v-data-table>\n</template>\n\n\n<script>\n\n  var accessesMap = {};\n\n  function displayType (access) {\n    if (access.type === 'shared') return 'Sharing';\n    if (access.type === 'app') {\n      if (access.name.startsWith('cm-')) return 'Consent';\n      return 'Device & App';\n    }\n    if (access.type == 'personal') return 'Management tools';\n    return access.type;\n  }\n\n  function displayRaw (key) {\n    return function (access) {\n      return access[key];\n    }\n  }\n\n  function displayDate (key) {\n    return function (access) {\n      var date = new Date(access[key] * 1000);\n      return date.toLocaleString();\n    }\n  }\n\n  function displayBy (key) {\n    return function (access) {\n      if (! access[key]) return key;\n      if (access[key] === 'system') return 'System or Owner';\n      if (accessesMap[access[key]]) {\n        return accessesMap[access[key]].name;\n      }\n      return accessesMap[access[key]];\n    }\n  }\n\n  function displayDeleted(access) {\n    if (access.deleted != null) return 'Deleted';\n    if (access.expires != null) {\n      if (new Date(access.expires*1000) < new Date()) {\n        return 'Expired';\n      }\n    }\n    return 'Valid';\n  }\n\n\n\n  const fields = [\n    {\n      key: 'lastUsed',\n      title: 'Last Usage',\n      display: displayDate('lastUsed')\n    },\n    {\n      key: 'name',\n      title: 'Name',\n      display: displayRaw('name')\n    },\n    {\n      key: 'type',\n      title: 'Type',\n      display: displayType\n    },\n    {\n      key: 'deleted',\n      title: 'Status',\n      display: displayDeleted\n    }\n    ];\n\n\n\n\n  var selectedItem = null;\n\n  export default {\n    name: 'Accesses',\n    props: [\n      'onSelectProp'\n    ],\n    data () {\n      return {\n        search: '',\n        username: window.pryvUsername,\n        UserInput :'',\n        accesses: this.accesses,\n        fields: fields,\n        pagination: {\n          sortBy: 'lastUsed',\n          descending: true,\n          rowsPerPage: 10\n\n        },\n        selected: []\n      }\n\n    },\n    computed: {\n\n    },\n    async created () {\n      this.connection =  window.pryvConnection;\n      let res;\n      try {\n        res = await this.connection.get('accesses', {includeExpired: true, includeDeletions: true})\n      } catch (error) {\n        console.log(error);\n        return;\n      }\n      \n\n     \n\n      let accesses = res.accesses || [];\n\n      accesses.unshift({\n        created: Date.now() / 1000,\n        lastUsed: Date.now() / 1000,\n        type: 'system',\n        id: 'valid-password',\n        name: 'VALID PASSWORD'\n      });\n\n      accesses.unshift({\n        created: Date.now() / 1000,\n        lastUsed: Date.now() / 1000,\n        type: 'system',\n        id: 'password-reset-request',\n        name: 'PASSWORD RESET REQUEST'\n      });\n\n      accesses.unshift({\n        created: Date.now() / 1000,\n        lastUsed: Date.now() / 1000,\n        type: 'system',\n        id: 'admin',\n        name: 'ADMIN'\n      });\n\n      accesses.unshift({\n        created: Date.now() / 1000,\n        lastUsed: Date.now() / 1000,\n        type: 'system',\n        id: 'invalid',\n        name: 'INVALID'\n      });\n     \n      if (res.accessDeletions != null) accesses = accesses.concat(res.accessDeletions);\n       console.log('Accesses', accesses);\n      this.accesses = accesses;\n      this.accesses.forEach(function (access) {\n        accessesMap[access.id] = access;\n      });\n    },\n    methods:{\n      filteredAccesses: function() {\n        if (this.search != null && this.search != '') {\n          return this.accesses.filter((a) => {return a.id.includes(this.search)});\n        }\n        return this.accesses;\n      },\n      GoToRoute : function(){\n        this.$router.push({ name: 'Paramdetails', params: { id: this.UserInput }})\n      },\n      changeSort (column) {\n        if (this.pagination.sortBy === column) {\n          this.pagination.descending = !this.pagination.descending\n        } else {\n          this.pagination.sortBy = column\n          this.pagination.descending = false\n        }\n      },\n      onSelect (item) {\n        if (item === selectedItem) return;\n\n        // add createdByName and modifiedByName\n        item.createdByName = displayBy('createdBy')(item);\n        item.modifiedByName = displayBy('modifiedBy')(item);\n\n        selectedItem = item;\n\n\n        if (this.onSelectProp) this.onSelectProp(selectedItem);\n        console.log('Accesses selected ' + item.name + ' > ' + item.id);\n      }\n    }\n  }\n\n\n\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/components/Accesses.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-data-table',{staticClass:\"elevation-1\",attrs:{\"headers\":_vm.fields,\"items\":_vm.filteredAccesses(),\"pagination\":_vm.pagination,\"select-all\":\"\",\"item-key\":\"id\"},on:{\"update:pagination\":function($event){_vm.pagination=$event}},scopedSlots:_vm._u([{key:\"headers\",fn:function(props){return [(false)?_c('v-text-field',{attrs:{\"append-icon\":\"search\",\"label\":\"Filter by access id\",\"single-line\":\"\",\"hide-details\":\"\"},model:{value:(_vm.search),callback:function ($$v) {_vm.search=$$v},expression:\"search\"}}):_vm._e(),_vm._v(\" \"),_c('tr',_vm._l((props.headers),function(header){return _c('th',{key:header.key,class:['column sortable', _vm.pagination.descending ? 'desc' : 'asc', header.name === _vm.pagination.sortBy ? 'active' : ''],on:{\"click\":function($event){_vm.changeSort(header.key)}}},[_c('v-icon',{attrs:{\"small\":\"\"}},[_vm._v(\"arrow_upward\")]),_vm._v(\"\\n        \"+_vm._s(header.title)+\"\\n      \")],1)}))]}},{key:\"items\",fn:function(props){return [_c('tr',{attrs:{\"active\":props.selected},on:{\"click\":function($event){_vm.onSelect(props.item)}}},_vm._l((_vm.fields),function(field){return _c('td',{staticClass:\"text-xs-left\"},[_vm._v(\"\\n        \"+_vm._s(field.display(props.item))+\"\\n      \")])}))]}}]),model:{value:(_vm.selected),callback:function ($$v) {_vm.selected=$$v},expression:\"selected\"}})}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-49f2b376\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Accesses.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Accesses.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Accesses.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-49f2b376\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Accesses.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Accesses.vue\n// module id = null\n// module chunks = ","<template>\n  <v-data-table\n    v-model=\"selected\"\n    :headers=\"fields\"\n    :items=\"auditLogs\"\n    :pagination.sync=\"pagination\"\n    select-all\n    item-key=\"id\"\n    class=\"elevation-1\"\n  >\n    <template slot=\"headers\" slot-scope=\"properties\">\n      <tr>\n        <th\n          v-for=\"header in properties.headers\"\n          :key=\"header.key\"\n          :class=\"['column sortable', pagination.descending ? 'desc' : 'asc', header.name === pagination.sortBy ? 'active' : '']\"\n          @click=\"changeSort(header.key)\"\n        >\n          <v-icon small>arrow_upward</v-icon>\n          {{ header.title }}\n        </th>\n      </tr>\n    </template>\n    <template slot=\"items\" slot-scope=\"properties\">\n      <tr :active=\"properties.selected\" @click=\"properties.expanded = !properties.expanded; onSelect(properties.item)\">\n        <td v-for=\"field in fields\" class=\"text-xs-left\">\n          {{ field.display(properties.item) }}\n        </td>\n      </tr>\n    </template>\n    <template slot=\"expand\" slot-scope=\"properties\">\n      <v-card flat>\n        <v-card-text></v-card-text>\n        <ul v-for=\"detail in details\">\n          <li v-if=\"detail.display(properties.item)\"\n              class=\"grey--text\"\n              style=\"white-space:nowrap; text-align: left;\">\n              <B>{{ detail.title }}</B> &mdash; <span v-html=\"detail.display(properties.item)\"/>\n          </li>\n        </ul>\n        <v-card-text></v-card-text>\n      </v-card>\n    </template>\n  </v-data-table>\n\n</template>\n\n\n<script>\n\n  let auditLogsMap = {};\n  const HttpStatus = require('http-status-codes');\n\n\n\n  function displayDate (auditLog) {\n    const date = new Date(auditLog.time * 1000);\n    return date.toLocaleString();\n  }\n\n\n\n  function displayAction(auditLog) {\n    return auditLog.content && auditLog.content.action || auditLog.action;\n  }\n\n  function displaySource(auditLog) {\n    if (auditLog.content && auditLog.content.source && auditLog.content.source.ip) return auditLog.content.source.ip;\n    return auditLog.content && auditLog.content.source || auditLog.forwardedFor;\n  }\n\n  function displayQuery(auditLog) {\n    return auditLog.content && auditLog.content.query;\n  }\n\n  function displayOthers(auditLog) {\n    const others = Object.assign({}, auditLog);\n    Object.assign(others, auditLog.content);\n    delete others.content;\n    delete others.time;\n    delete others.created;\n    delete others.modified;\n    delete others.modifiedBy;\n    delete others.streamIds;\n    delete others.query; \n    delete others.action;\n    delete others.source;\n    let res = '';\n    for (const key of Object.keys(others)) {\n      res += '<BR>&nbsp;<B>' + key + ': </B>' + others[key] ;\n    }\n    return res;\n  }\n\n  const fields = [\n    {\n      key: 'time',\n      title: 'Date',\n      display: displayDate,\n    },\n    {\n      key: 'action',\n      title: 'Action',\n      display: displayAction\n    },\n    {\n      key: 'source',\n      title: 'Source',\n      display: displaySource\n    }\n    ];\n\n  const details = [\n   {\n      title: 'query',\n      key: 'query',\n      display: displayQuery\n    },\n    {\n      title: 'Others',\n      key: 'others',\n      display: displayOthers\n    }\n  ];\n\n  let selectedItem = null;\n\n  export default {\n    name: 'auditLogs',\n    properties: [\n      'onSelectProp'\n    ],\n    props: {\n      auditLogs: {type: Array, default: []},\n    },\n    data () {\n      return {\n        username: window.pryvUsername,\n        UserInput :'',\n        fields: fields,\n        details: details,\n        pagination: {\n          sortBy: 'time',\n          descending: true,\n          rowsPerPage: 9\n        },\n        selected: []\n      }\n\n    },\n    computed: {\n\n    },\n    created () {\n    },\n    methods:{\n      changeSort (column) {\n        if (this.pagination.sortBy === column) {\n          this.pagination.descending = !this.pagination.descending\n        } else {\n          this.pagination.sortBy = column\n          this.pagination.descending = false\n        }\n      },\n      onSelect (item) {\n        if (item === selectedItem) return;\n        selectedItem = item;\n        if (this.onSelectProp) this.onSelectProp(selectedItem);\n        console.log('audit log selected ' + item.id);\n      }\n    }\n  }\n\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/components/Audit.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-data-table',{staticClass:\"elevation-1\",attrs:{\"headers\":_vm.fields,\"items\":_vm.auditLogs,\"pagination\":_vm.pagination,\"select-all\":\"\",\"item-key\":\"id\"},on:{\"update:pagination\":function($event){_vm.pagination=$event}},scopedSlots:_vm._u([{key:\"headers\",fn:function(properties){return [_c('tr',_vm._l((properties.headers),function(header){return _c('th',{key:header.key,class:['column sortable', _vm.pagination.descending ? 'desc' : 'asc', header.name === _vm.pagination.sortBy ? 'active' : ''],on:{\"click\":function($event){_vm.changeSort(header.key)}}},[_c('v-icon',{attrs:{\"small\":\"\"}},[_vm._v(\"arrow_upward\")]),_vm._v(\"\\n        \"+_vm._s(header.title)+\"\\n      \")],1)}))]}},{key:\"items\",fn:function(properties){return [_c('tr',{attrs:{\"active\":properties.selected},on:{\"click\":function($event){properties.expanded = !properties.expanded; _vm.onSelect(properties.item)}}},_vm._l((_vm.fields),function(field){return _c('td',{staticClass:\"text-xs-left\"},[_vm._v(\"\\n        \"+_vm._s(field.display(properties.item))+\"\\n      \")])}))]}},{key:\"expand\",fn:function(properties){return [_c('v-card',{attrs:{\"flat\":\"\"}},[_c('v-card-text'),_vm._v(\" \"),_vm._l((_vm.details),function(detail){return _c('ul',[(detail.display(properties.item))?_c('li',{staticClass:\"grey--text\",staticStyle:{\"white-space\":\"nowrap\",\"text-align\":\"left\"}},[_c('B',[_vm._v(_vm._s(detail.title))]),_vm._v(\" — \"),_c('span',{domProps:{\"innerHTML\":_vm._s(detail.display(properties.item))}})],1):_vm._e()])}),_vm._v(\" \"),_c('v-card-text')],2)]}}]),model:{value:(_vm.selected),callback:function ($$v) {_vm.selected=$$v},expression:\"selected\"}})}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-633c2ed8\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Audit.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Audit.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Audit.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-633c2ed8\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Audit.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Audit.vue\n// module id = null\n// module chunks = ","<template>\n  <div id=\"data\">\n    <div v-if=\"state == 'loading'\">\n      Loading ...\n    </div>\n    <div v-else>\n      <div v-if=\"state == 'nok'\">\n        Failed\n      </div>\n      <div v-else>\n        Details\n        <div v-if=\"access\">\n              <div class=\"headline\">{{ access.name }}</div>\n\n                <ul v-for=\"detail in details\">\n                  <li v-if=\"detail.display(access) !== '-'\"\n                      class=\"grey--text\"\n                      style=\"white-space:nowrap; text-align: center;\"><B>{{ detail.title }}</B> &mdash; <span v-html=\"detail.display(access)\"/></li>\n                </ul>\n\n        </div>\n        <div v-else>\n          <H3>-</H3>\n        </div>\n        <Audit\n          :auditLogs=\"auditLogs\"/>\n      </div>\n    </div>\n  </div>\n</template>\n\n\n<script>\n\n\n  import marked from 'marked';\n\n  // ----- Access detail ------ //\n  const details = [\n    {\n      key: 'permission',\n      title: 'Permissions',\n      display: displayPermission,\n    },\n    {\n      key: 'clientData',\n      title: 'Informations',\n      display: displayClientData,\n    },\n    {\n      key: 'created',\n      title: 'Creation Date',\n      display: displayDate('created')\n    },\n    {\n      key: 'createdBy',\n      title: 'Created By',\n      display: displayRaw('createdByName')\n    },\n    {\n      key: 'modified',\n      title: 'Modification Date',\n      display: modifiedDate,\n    },\n    {\n      key: 'modifiedBy',\n      title: 'Modified By',\n      display:  displayRaw('modifiedByName'),\n    },\n    {\n      key: 'deleted',\n      title: 'Deleted',\n      display:  displayDate('deleted'),\n    },\n    {\n      key: 'expires',\n      title: 'Expires',\n      display:  displayDate('expires'),\n    }\n  ];\n\n  function displayDate (key) {\n    return function (access) {\n      if (access[key] == null) return '-';\n      var date = new Date(access[key] * 1000);\n      return date.toLocaleString();\n    }\n  }\n\n  function displayRaw (key) {\n    return function (access) {\n      return access[key] || '-';\n    }\n  }\n\n\n  function displayClientData (access) {\n    if (access.clientData) {\n      if (access.clientData['app-web-auth:description']) {\n        return  marked(access.clientData['app-web-auth:description'].content);\n      }\n      return marked(access.clientData);\n    }\n    return '-';\n  }\n\n\n  function modifiedDate (access) {\n    if (access.modified !== access.created) return displayDate('modified')(access);\n    return '-';\n  }\n\n  function modifiedBy(access) {\n    if (access.modifiedBy !== access.createdBy) return displayBy('modified')(access);\n    return '-';\n  }\n\n  function displayPermission(access) {\n    if (access.type === 'personal') return 'System or Owner';\n    return JSON.stringify(access.permissions, null, 2);\n  }\n\n  // ----- Audit ------------- //\n  import Audit from './Audit.vue'\n\n  export default {\n    name: 'Data',\n    props: [\n\n    ],\n    components: {\n      Audit\n    },\n    data () {\n      return {\n        auditLogs: [],\n        auditLogsMap: {}, // by accessId\n        access: this.selectedAccess,\n        connection: this.connection,\n        state: 'loading',\n        details: details,\n      }\n    },\n    computed: {\n\n    },\n    async created () {\n      this.access = null;\n      this.connection =  window.pryvConnection;\n      this.state = 'ok';\n    },\n    methods:{\n      selectAccess : async function(access){\n        console.log('Data selected Access:' + access.name);\n        this.access = access;\n\n        if (this.access == null || this.auditLogsMap == null) {\n          return this.auditLogs = [];\n        }\n        if (this.auditLogsMap[access.id] != null) {\n          return this.auditLogs = this.auditLogsMap[access.id];\n        }\n\n        this.state = 'loading';\n        \n\n        this.connection = window.pryvConnection;\n\n        let res;\n        try {\n          res = await this.connection.getRaw('audit/logs', {streams: [':_audit:access-' + access.id] });\n        } catch (error) {\n          console.log(error);\n          this.state = 'nok';\n          return;\n        }\n        \n        const logs = res.body.auditLogs;\n        console.log('Audit data:', logs);\n        this.auditLogsMap[access.id] = logs;\n        this.auditLogs = logs;\n        this.state = 'ok';\n      }\n    }\n  }\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/components/Data.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"data\"}},[(_vm.state == 'loading')?_c('div',[_vm._v(\"\\n    Loading ...\\n  \")]):_c('div',[(_vm.state == 'nok')?_c('div',[_vm._v(\"\\n      Failed\\n    \")]):_c('div',[_vm._v(\"\\n      Details\\n      \"),(_vm.access)?_c('div',[_c('div',{staticClass:\"headline\"},[_vm._v(_vm._s(_vm.access.name))]),_vm._v(\" \"),_vm._l((_vm.details),function(detail){return _c('ul',[(detail.display(_vm.access) !== '-')?_c('li',{staticClass:\"grey--text\",staticStyle:{\"white-space\":\"nowrap\",\"text-align\":\"center\"}},[_c('B',[_vm._v(_vm._s(detail.title))]),_vm._v(\" — \"),_c('span',{domProps:{\"innerHTML\":_vm._s(detail.display(_vm.access))}})],1):_vm._e()])})],2):_c('div',[_c('H3',[_vm._v(\"-\")])],1),_vm._v(\" \"),_c('Audit',{attrs:{\"auditLogs\":_vm.auditLogs}})],1)])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-ffdae706\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Data.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Data.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Data.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-ffdae706\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Data.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Data.vue\n// module id = null\n// module chunks = ","<template>\n  <div id=\"mainView\">\n    <split-pane v-on:resize=\"resize\" :min-percent='50' :default-percent='50' split=\"vertical\">\n      <template slot=\"paneL\">\n        <Accesses :onSelectProp=\"onAccessSelect\"/>\n      </template>\n      <template slot=\"paneR\">\n        <Data ref=\"dataView\"/>\n      </template>\n    </split-pane>\n\n  </div>\n</template>\n\n<script>\n\n  import splitPane from 'vue-splitpane'\n  import Accesses from './Accesses.vue'\n  import Data from './Data.vue'\n\n  export default {\n    name: 'main',\n    components: {\n      Accesses,\n      splitPane,\n      Data\n    },\n    methods: {\n      onEventLoaded: function () {\n\n      },\n      onAccessSelect: function (access) {\n        console.log(\"*****\", access);\n        this.$refs.dataView.selectAccess(access);\n      },\n      resize() {\n        console.log('resize')\n      }\n    }\n  }\n</script>\n<!-- styling for the component -->\n<style>\n  #about {\n    font-family: 'Roboto', Helvetica, Arial, sans-serif;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n    text-align: center;\n    color: #2c3e50;\n    margin-top: 60px;\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/Main.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"mainView\"}},[_c('split-pane',{attrs:{\"min-percent\":50,\"default-percent\":50,\"split\":\"vertical\"},on:{\"resize\":_vm.resize}},[_c('template',{slot:\"paneL\"},[_c('Accesses',{attrs:{\"onSelectProp\":_vm.onAccessSelect}})],1),_vm._v(\" \"),_c('template',{slot:\"paneR\"},[_c('Data',{ref:\"dataView\"})],1)],2)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-e353657c\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Main.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-e353657c\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Main.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Main.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Main.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-e353657c\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Main.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Main.vue\n// module id = null\n// module chunks = ","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\n//import the vue instance\nimport Vue from 'vue'\n\nimport Vuetify from 'vuetify'\n\nVue.use(Vuetify)\n\nimport 'vuetify/dist/vuetify.min.css' // Ensure you are using css-loader\n\n//import the App component\nimport App from './App'\n//import the vue router\nimport VueRouter from 'vue-router'\n//tell vue to use the router\nVue.use(VueRouter)\n//import the hello component\nimport Main from './components/Main'\n\n\n\n//define your routes\nconst routes = [\n//route for the home route of the web page\n  { path: '/', component: Main },\n\n]\n\nconst router = new VueRouter({\n  base: window.location.pathname,\n  routes, // short for routes: routes\n  mode: 'hash'\n})\n\nwindow.v = new Vue({\n//define the selector for the root component\n  el: '#app',\n  //pass the template to the root component\n  template: '<App/>',\n  //declare components that the root component can access\n  components: { App },\n  //pass in the router to the Vue instance\n  router\n}).$mount('#app')\n//mount the router on the app\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","module.exports = {\"name\":\"pryv\",\"version\":\"2.1.7\",\"homepage\":\"https://github.com/pryv/lib-js\",\"description\":\"Pryv Javascript Library\",\"keywords\":[\"Pryv\"],\"repository\":{\"type\":\"git\",\"url\":\"git://github.com/pryv/lib-js\"},\"bugs\":{\"url\":\"https://github.com/pryv/lib-js/issues\"},\"author\":{\"name\":\"Pryv S.A.\"},\"main\":\"src/index.js\",\"license\":\"BSD-3-Clause\",\"scripts\":{\"setup\":\"./scripts/setup-environment-dev.sh\",\"build\":\"webpack --config webpack.config.js\",\"doc\":\"node node_modules/jsdoc/jsdoc.js -c .jsdoc-conf.json\",\"test\":\"mocha --reporter spec  test/**/*.test.js --timeout 3000\",\"test-debug\":\"mocha --inpect-brk=40000 --reporter spec  test/**/*.test.js \",\"test:browser\":\"npm run build; \",\"cover\":\"nyc npm run test && npm run cover:report\",\"cover:report\":\"nyc report --reporter=lcov --reporter=html\",\"webserver\":\"./node_modules/.bin/rec-la ./dist 9443\",\"gh-pages\":\"./scripts/upload.sh\",\"clear\":\"rm -r dist/ && npm run setup\"},\"contributors\":[{\"name\":\"Pierre-Mikael Legris\",\"email\":\"perki@pryv.com\"}],\"dependencies\":{\"superagent\":\"^5.2.2\"},\"devDependencies\":{\"@pryv/lib-js-common\":\"git+https://github.com/pryv/lib-js-common.git#1.0.4\",\"@pryv/monitor\":\"^1.0.5\",\"@pryv/socket.io\":\"^1.0.5\",\"chai\":\"^4.2.0\",\"chai-as-promised\":\"^7.1.1\",\"cuid\":\"^2.1.8\",\"mocha\":\"^6.2.3\",\"node-fetch\":\"^2.6.0\",\"nyc\":\"^14.1.1\",\"rec-la\":\"latest\",\"universal-url\":\"^2.0.0\",\"zombie\":\"^6.1.4\"}}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/pryv/package.json\n// module id = kGJU\n// module chunks = 1"],"sourceRoot":""}