{"version":3,"sources":["webpack:///src/App.vue","webpack:///./src/App.vue?0375","webpack:///./src/App.vue","webpack:///src/components/Accesses.vue","webpack:///./src/components/Accesses.vue?749d","webpack:///./src/components/Accesses.vue","webpack:///src/components/Audit.vue","webpack:///./src/components/Audit.vue?c203","webpack:///./src/components/Audit.vue","webpack:///src/components/Data.vue","webpack:///./src/components/Data.vue?2c83","webpack:///./src/components/Data.vue","webpack:///src/components/Main.vue","webpack:///./src/components/Main.vue?37cc","webpack:///./src/components/Main.vue","webpack:///./src/main.js"],"names":["App","name","data","console","log","window","pryvUsername","username","this","$route","query","state2","computed","state","created","pryvConnection","settings","auth","serviceInfoUrl","error","selectortype_template_index_0_src_App","render","_vm","_h","$createElement","_c","_self","attrs","id","_v","_s","to","staticRenderFns","src_App","__webpack_require__","normalizeComponent","ssrContext","accessesMap","request","url","Accesses_displayBy","key","access","fields","title","display","Date","toLocaleString","displayRaw","type","startsWith","deleted","expires","selectedItem","Accesses","props","search","UserInput","accesses","pagination","sortBy","descending","rowsPerPage","selected","_this","asyncToGenerator_default","regenerator_default","a","mark","_callee","that","connectionSettings","serviceInfoRes","apiUrl","res","wrap","_context","prev","next","connection","get","sent","t0","abrupt","body","api","replace","resolve","includeExpired","includeDeletions","set","t1","accessDeletions","concat","forEach","stop","methods","filteredAccesses","_this2","filter","includes","GoToRoute","$router","push","params","changeSort","column","onSelect","item","createdByName","modifiedByName","onSelectProp","components_Accesses","staticClass","headers","items","select-all","item-key","on","update:pagination","$event","scopedSlots","_u","fn","_e","_l","header","class","click","small","active","field","model","value","callback","$$v","expression","src_components_Accesses","Accesses_normalizeComponent","HttpStatus","Audit_displayRaw","prop","auditLog","Audit_fields","time","action","resource","substring","indexOf","method","split","verb","getStatusText","status","err","details","Audit_selectedItem","Audit","properties","auditLogs","Array","default","components_Audit","expanded","flat","detail","staticStyle","white-space","text-align","domProps","innerHTML","src_components_Audit","Audit_normalizeComponent","Data_url","Data_details","permissions","clientData","marked_default","content","Data_displayDate","Data_displayRaw","modified","Data","components","auditLogsMap","selectedAccess","client_default","selectAccess","_ref","_callee2","self","apiEndpoint","auditUrl","logs","_context2","accessId","_x","apply","arguments","components_Data","src_components_Data","Data_normalizeComponent","Main","splitPane","vue_split_pane_min_default","onEventLoaded","onAccessSelect","$refs","dataView","resize","components_Main","min-percent","default-percent","slot","ref","src_components_Main","Main_normalizeComponent","Vue","use","Vuetify","VueRouter","routes","path","component","router","base","location","pathname","mode","v","el","template","$mount"],"mappings":"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","file":"static/js/app.2df5421ec629302a6be7.js","sourcesContent":["<template>\n  <div id=\"app\">\n    <div v-if=\"username == null\">\n      Missing username or valid token\n    </div>\n    <div v-else>\n      <div v-if=\"state == 'loading'\">\n        Loading ...\n      </div>\n      <div v-else>\n        <div v-if=\"state == 'nok'\">\n          Failed\n        </div>\n        <div v-else>\n          Audit for user: {{username}}\n          <router-link v-bind:to=\"'./'\">Accesses</router-link>\n          <router-view></router-view>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n  export default {\n    name: 'app',\n    data () {\n      console.log(\"*\" + window.pryvUsername  + \"*\");\n      return {\n        username: this.$route.query.username,\n        state2: 'loading'\n      }\n    },\n    computed: {\n      state() {\n        return this.state2\n      }\n    },\n    created () {\n      window.pryvUsername =  this.$route.query.username || null;\n      if (window.pryvUsername == null) {\n        console.error('username is not set');\n        return;\n      }\n      const pryvConnection = {\n        'settings': {\n          'auth': this.$route.query.auth,\n          'username': window.pryvUsername,\n          'serviceInfoUrl': this.$route.query.serviceInfoUrl\n        }\n      };\n\n      window.pryvConnection = pryvConnection;\n      this.state2 = 'ok';\n      console.log('ok');\n    }\n  }\n</script>\n<!-- styling for the component -->\n<style>\n  #app {\n    font-family: 'Roboto', Helvetica, Arial, sans-serif;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n    text-align: center;\n    color: #2c3e50;\n    margin-top: 60px;\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[(_vm.username == null)?_c('div',[_vm._v(\"\\n    Missing username or valid token\\n  \")]):_c('div',[(_vm.state == 'loading')?_c('div',[_vm._v(\"\\n      Loading ...\\n    \")]):_c('div',[(_vm.state == 'nok')?_c('div',[_vm._v(\"\\n        Failed\\n      \")]):_c('div',[_vm._v(\"\\n        Audit for user: \"+_vm._s(_vm.username)+\"\\n        \"),_c('router-link',{attrs:{\"to\":'./'}},[_vm._v(\"Accesses\")]),_vm._v(\" \"),_c('router-view')],1)])])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-72666008\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-72666008\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-72666008\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","<template>\n  <v-data-table\n    v-model=\"selected\"\n    :headers=\"fields\"\n    :items=\"filteredAccesses()\"\n    :pagination.sync=\"pagination\"\n    select-all\n    item-key=\"id\"\n    class=\"elevation-1\"\n  >\n    <template slot=\"headers\" slot-scope=\"props\">\n      <!-- Search field, deactivated for now (remove v-if to activate) -->\n      <v-text-field\n        v-if=\"false\"\n        v-model=\"search\"\n        append-icon=\"search\"\n        label=\"Filter by access id\"\n        single-line\n        hide-details\n      ></v-text-field>\n      <tr>\n        <th\n          v-for=\"header in props.headers\"\n          :key=\"header.key\"\n          :class=\"['column sortable', pagination.descending ? 'desc' : 'asc', header.name === pagination.sortBy ? 'active' : '']\"\n          @click=\"changeSort(header.key)\"\n        >\n          <v-icon small>arrow_upward</v-icon>\n          {{ header.title }}\n        </th>\n      </tr>\n    </template>\n    <template slot=\"items\" slot-scope=\"props\">\n      <tr :active=\"props.selected\" @click=\"onSelect(props.item)\">\n        <td v-for=\"field in fields\" class=\"text-xs-left\">\n          {{ field.display(props.item) }}\n        </td>\n      </tr>\n    </template>\n  </v-data-table>\n</template>\n\n\n<script>\n\n  var accessesMap = {};\n  const request = require('superagent');\n  const url = require('url');\n\n  function displayType (access) {\n    if (access.type === 'shared') return 'Sharing';\n    if (access.type === 'app') {\n      if (access.name.startsWith('cm-')) return 'Consent';\n      return 'Device & App';\n    }\n    if (access.type == 'personal') return 'Management tools';\n    return 'Unknown';\n  }\n\n  function displayRaw (key) {\n    return function (access) {\n      return access[key];\n    }\n  }\n\n  function displayDate (key) {\n    return function (access) {\n      var date = new Date(access[key] * 1000);\n      return date.toLocaleString();\n    }\n  }\n\n  function displayBy (key) {\n    return function (access) {\n      if (access[key] === 'system') return 'System or Owner';\n      if (accessesMap[access[key]]) {\n        return accessesMap[access[key]].name;\n      }\n      return accessesMap[access[key]];\n    }\n  }\n\n  function displayDeleted(access) {\n    if (access.deleted != null) return 'Deleted';\n    if (access.expires != null) {\n      if (new Date(access.expires*1000) < new Date()) {\n        return 'Expired';\n      }\n    }\n    return 'Valid';\n  }\n\n\n\n  const fields = [\n    {\n      key: 'lastUsed',\n      title: 'Last Usage',\n      display: displayDate('lastUsed')\n    },\n    {\n      key: 'name',\n      title: 'Name',\n      display: displayRaw('name')\n    },\n    {\n      key: 'type',\n      title: 'Type',\n      display: displayType\n    },\n    {\n      key: 'deleted',\n      title: 'Status',\n      display: displayDeleted\n    }\n    ];\n\n\n\n\n  var selectedItem = null;\n\n  export default {\n    name: 'Accesses',\n    props: [\n      'onSelectProp'\n    ],\n    data () {\n      return {\n        search: '',\n        username: window.pryvUsername,\n        UserInput :'',\n        accesses: this.accesses,\n        fields: fields,\n        pagination: {\n          sortBy: 'lastUsed',\n          descending: true,\n          rowsPerPage: 10\n\n        },\n        selected: []\n      }\n\n    },\n    computed: {\n\n    },\n    async created () {\n      this.connection =  window.pryvConnection;\n      var that = this;\n\n      const connectionSettings = this.connection.settings;\n      const auth = connectionSettings.auth;\n      const username = connectionSettings.username;\n      const serviceInfoUrl = this.connection.settings.serviceInfoUrl;\n\n      let serviceInfoRes;\n      try {\n        serviceInfoRes = await request.get(serviceInfoUrl);\n      } catch (error) {\n        console.error(error);\n        return;\n      }\n      let apiUrl = serviceInfoRes.body.api;\n      if(apiUrl == null) {\n        console.error('Can\\'t get api url on ' + serviceInfoUrl);\n        return;\n      }\n      apiUrl = apiUrl.replace('{username}', this.username);\n\n      let res;\n      try {\n        res = await request\n          .get(url.resolve(apiUrl, 'accesses'))\n          .query({includeExpired: true, includeDeletions: true})\n          .set('Authorization', auth)\n      } catch (error) {\n        console.log(error);\n        return;\n      }\n\n      let accesses = res.body.accesses || [];\n      if (res.body.accessDeletions != null) accesses = accesses.concat(res.body.accessDeletions);\n      that.accesses = accesses;\n      that.accesses.forEach(function (access) {\n        accessesMap[access.id] = access;\n      });\n    },\n    methods:{\n      filteredAccesses: function() {\n        if (this.search != null && this.search != '') {\n          return this.accesses.filter((a) => {return a.id.includes(this.search)});\n        }\n        return this.accesses;\n      },\n      GoToRoute : function(){\n        this.$router.push({ name: 'Paramdetails', params: { id: this.UserInput }})\n      },\n      changeSort (column) {\n        if (this.pagination.sortBy === column) {\n          this.pagination.descending = !this.pagination.descending\n        } else {\n          this.pagination.sortBy = column\n          this.pagination.descending = false\n        }\n      },\n      onSelect (item) {\n        if (item === selectedItem) return;\n\n        // add createdByName and modifiedByName\n        item.createdByName = displayBy('createdBy')(item);\n        item.modifiedByName = displayBy('modifiedBy')(item);\n\n        selectedItem = item;\n\n\n        if (this.onSelectProp) this.onSelectProp(selectedItem);\n        console.log('Accesses selected ' + item.name + ' > ' + item.id);\n      }\n    }\n  }\n\n\n\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/components/Accesses.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-data-table',{staticClass:\"elevation-1\",attrs:{\"headers\":_vm.fields,\"items\":_vm.filteredAccesses(),\"pagination\":_vm.pagination,\"select-all\":\"\",\"item-key\":\"id\"},on:{\"update:pagination\":function($event){_vm.pagination=$event}},scopedSlots:_vm._u([{key:\"headers\",fn:function(props){return [(false)?_c('v-text-field',{attrs:{\"append-icon\":\"search\",\"label\":\"Filter by access id\",\"single-line\":\"\",\"hide-details\":\"\"},model:{value:(_vm.search),callback:function ($$v) {_vm.search=$$v},expression:\"search\"}}):_vm._e(),_vm._v(\" \"),_c('tr',_vm._l((props.headers),function(header){return _c('th',{key:header.key,class:['column sortable', _vm.pagination.descending ? 'desc' : 'asc', header.name === _vm.pagination.sortBy ? 'active' : ''],on:{\"click\":function($event){_vm.changeSort(header.key)}}},[_c('v-icon',{attrs:{\"small\":\"\"}},[_vm._v(\"arrow_upward\")]),_vm._v(\"\\n        \"+_vm._s(header.title)+\"\\n      \")],1)}))]}},{key:\"items\",fn:function(props){return [_c('tr',{attrs:{\"active\":props.selected},on:{\"click\":function($event){_vm.onSelect(props.item)}}},_vm._l((_vm.fields),function(field){return _c('td',{staticClass:\"text-xs-left\"},[_vm._v(\"\\n        \"+_vm._s(field.display(props.item))+\"\\n      \")])}))]}}]),model:{value:(_vm.selected),callback:function ($$v) {_vm.selected=$$v},expression:\"selected\"}})}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-06a3fec5\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Accesses.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Accesses.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Accesses.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-06a3fec5\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Accesses.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Accesses.vue\n// module id = null\n// module chunks = ","<template>\n  <v-data-table\n    v-model=\"selected\"\n    :headers=\"fields\"\n    :items=\"auditLogs\"\n    :pagination.sync=\"pagination\"\n    select-all\n    item-key=\"id\"\n    class=\"elevation-1\"\n  >\n    <template slot=\"headers\" slot-scope=\"properties\">\n      <tr>\n        <th\n          v-for=\"header in properties.headers\"\n          :key=\"header.key\"\n          :class=\"['column sortable', pagination.descending ? 'desc' : 'asc', header.name === pagination.sortBy ? 'active' : '']\"\n          @click=\"changeSort(header.key)\"\n        >\n          <v-icon small>arrow_upward</v-icon>\n          {{ header.title }}\n        </th>\n      </tr>\n    </template>\n    <template slot=\"items\" slot-scope=\"properties\">\n      <tr :active=\"properties.selected\" @click=\"properties.expanded = !properties.expanded; onSelect(properties.item)\">\n        <td v-for=\"field in fields\" class=\"text-xs-left\">\n          {{ field.display(properties.item) }}\n        </td>\n      </tr>\n    </template>\n    <template slot=\"expand\" slot-scope=\"properties\">\n      <v-card flat>\n        <v-card-text></v-card-text>\n        <ul v-for=\"detail in details\">\n          <li v-if=\"detail.display(properties.item)\"\n              class=\"grey--text\"\n              style=\"white-space:nowrap; text-align: left;\">\n              <B>{{ detail.title }}</B> &mdash; <span v-html=\"detail.display(properties.item)\"/>\n          </li>\n        </ul>\n        <v-card-text></v-card-text>\n      </v-card>\n    </template>\n  </v-data-table>\n\n</template>\n\n\n<script>\n\n  let auditLogsMap = {};\n  const HttpStatus = require('http-status-codes');\n\n  function displayRaw(prop) {\n    return function(auditLog) {\n      return auditLog[prop];\n    };\n  }\n\n  function displayDate (auditLog) {\n    const date = new Date(auditLog.time * 1000);\n    return date.toLocaleString();\n  }\n\n  function displayHTTPStatus(auditLog) {\n    return auditLog.status;\n  }\n\n  function displayStatus(auditLog) {\n    try {\n      const status = HttpStatus.getStatusText(auditLog.status);\n      return status;\n    } catch (err) {\n      return auditLog.status;\n    }\n  }\n\n  function displayAction(auditLog) {\n    const action = auditLog.action;\n    const resource = action.substring(action.indexOf(\"/\") + 1);\n\n    const method = auditLog.action.split(' ')[0];\n    let verb;\n    switch(method) {\n      case 'GET':\n        verb = 'Retrieve';\n        break;\n      case 'POST':\n        verb = 'Create';\n        break;\n      case 'PUT':\n        verb = 'Modify';\n        break;\n      case 'DELETE':\n        verb = 'Delete';\n        break;\n      default:\n        verb = method;\n    }\n    return `${verb}: ${resource}`;\n  }\n\n  const fields = [\n    {\n      key: 'time',\n      title: 'Date',\n      display: displayDate,\n    },\n    {\n      key: 'action',\n      title: 'Action',\n      display: displayAction\n    },\n    {\n      key: 'status',\n      title: 'Status',\n      display: displayStatus\n    }\n    ];\n\n  const details = [\n    {\n      title: 'Action id',\n      key: 'actionId',\n      display: displayRaw('id')\n    },\n    {\n      title: 'Timestamp',\n      key: 'timestamp',\n      display: displayRaw('time')\n    },\n    {\n      title: 'Client IP',\n      key: 'clientIp',\n      display: displayRaw('forwardedFor')\n    },\n    {\n      title: 'Action',\n      key: 'action',\n      display: displayRaw('action')\n    },\n    {\n      title: 'Query',\n      key: 'query',\n      display: displayRaw('query')\n    },\n    {\n      title: 'Access id',\n      key: 'accessId',\n      display: displayRaw('accessId')\n    },\n    {\n      title: 'HTTP status',\n      key: 'httpStatus',\n      display: displayHTTPStatus\n    },\n    {\n      title: 'Error message',\n      key: 'errorMsg',\n      display: displayRaw('errorMessage')\n    },\n    {\n      title: 'Error id',\n      key: 'errorId',\n      display: displayRaw('errorId')\n    }\n  ];\n\n  let selectedItem = null;\n\n  export default {\n    name: 'auditLogs',\n    properties: [\n      'onSelectProp'\n    ],\n    props: {\n      auditLogs: {type: Array, default: []},\n    },\n    data () {\n      return {\n        username: window.pryvUsername,\n        UserInput :'',\n        fields: fields,\n        details: details,\n        pagination: {\n          sortBy: 'time',\n          descending: true,\n          rowsPerPage: 9\n        },\n        selected: []\n      }\n\n    },\n    computed: {\n\n    },\n    created () {\n    },\n    methods:{\n      changeSort (column) {\n        if (this.pagination.sortBy === column) {\n          this.pagination.descending = !this.pagination.descending\n        } else {\n          this.pagination.sortBy = column\n          this.pagination.descending = false\n        }\n      },\n      onSelect (item) {\n        if (item === selectedItem) return;\n        selectedItem = item;\n        if (this.onSelectProp) this.onSelectProp(selectedItem);\n        console.log('audit log selected ' + item.id);\n      }\n    }\n  }\n\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/components/Audit.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-data-table',{staticClass:\"elevation-1\",attrs:{\"headers\":_vm.fields,\"items\":_vm.auditLogs,\"pagination\":_vm.pagination,\"select-all\":\"\",\"item-key\":\"id\"},on:{\"update:pagination\":function($event){_vm.pagination=$event}},scopedSlots:_vm._u([{key:\"headers\",fn:function(properties){return [_c('tr',_vm._l((properties.headers),function(header){return _c('th',{key:header.key,class:['column sortable', _vm.pagination.descending ? 'desc' : 'asc', header.name === _vm.pagination.sortBy ? 'active' : ''],on:{\"click\":function($event){_vm.changeSort(header.key)}}},[_c('v-icon',{attrs:{\"small\":\"\"}},[_vm._v(\"arrow_upward\")]),_vm._v(\"\\n        \"+_vm._s(header.title)+\"\\n      \")],1)}))]}},{key:\"items\",fn:function(properties){return [_c('tr',{attrs:{\"active\":properties.selected},on:{\"click\":function($event){properties.expanded = !properties.expanded; _vm.onSelect(properties.item)}}},_vm._l((_vm.fields),function(field){return _c('td',{staticClass:\"text-xs-left\"},[_vm._v(\"\\n        \"+_vm._s(field.display(properties.item))+\"\\n      \")])}))]}},{key:\"expand\",fn:function(properties){return [_c('v-card',{attrs:{\"flat\":\"\"}},[_c('v-card-text'),_vm._v(\" \"),_vm._l((_vm.details),function(detail){return _c('ul',[(detail.display(properties.item))?_c('li',{staticClass:\"grey--text\",staticStyle:{\"white-space\":\"nowrap\",\"text-align\":\"left\"}},[_c('B',[_vm._v(_vm._s(detail.title))]),_vm._v(\" — \"),_c('span',{domProps:{\"innerHTML\":_vm._s(detail.display(properties.item))}})],1):_vm._e()])}),_vm._v(\" \"),_c('v-card-text')],2)]}}]),model:{value:(_vm.selected),callback:function ($$v) {_vm.selected=$$v},expression:\"selected\"}})}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-6cb3db5e\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Audit.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Audit.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Audit.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6cb3db5e\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Audit.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Audit.vue\n// module id = null\n// module chunks = ","<template>\n  <div id=\"data\">\n    <div v-if=\"state == 'loading'\">\n      Loading ...\n    </div>\n    <div v-else>\n      <div v-if=\"state == 'nok'\">\n        Failed\n      </div>\n      <div v-else>\n        Details\n        <div v-if=\"access\">\n              <div class=\"headline\">{{ access.name }}</div>\n\n                <ul v-for=\"detail in details\">\n                  <li v-if=\"detail.display(access) !== '-'\"\n                      class=\"grey--text\"\n                      style=\"white-space:nowrap; text-align: center;\"><B>{{ detail.title }}</B> &mdash; <span v-html=\"detail.display(access)\"/></li>\n                </ul>\n\n        </div>\n        <div v-else>\n          <H3>-</H3>\n        </div>\n        <Audit\n          :auditLogs=\"auditLogs\"/>\n      </div>\n    </div>\n  </div>\n</template>\n\n\n<script>\n\n\n  import marked from 'marked';\n  import request from 'superagent';\n\n  const url = require('url');\n\n  // ----- Access detail ------ //\n  const details = [\n    {\n      key: 'permission',\n      title: 'Permissions',\n      display: displayPermission,\n    },\n    {\n      key: 'clientData',\n      title: 'Informations',\n      display: displayClientData,\n    },\n    {\n      key: 'created',\n      title: 'Creation Date',\n      display: displayDate('created')\n    },\n    {\n      key: 'createdBy',\n      title: 'Created By',\n      display: displayRaw('createdByName')\n    },\n    {\n      key: 'modified',\n      title: 'Modification Date',\n      display: modifiedDate,\n    },\n    {\n      key: 'modifiedBy',\n      title: 'Modified By',\n      display:  displayRaw('modifiedByName'),\n    },\n    {\n      key: 'deleted',\n      title: 'Deleted',\n      display:  displayDate('deleted'),\n    },\n    {\n      key: 'expires',\n      title: 'Expires',\n      display:  displayDate('expires'),\n    }\n  ];\n\n  function displayDate (key) {\n    return function (access) {\n      if (access[key] == null) return '-';\n      var date = new Date(access[key] * 1000);\n      return date.toLocaleString();\n    }\n  }\n\n  function displayRaw (key) {\n    return function (access) {\n      return access[key] || '-';\n    }\n  }\n\n\n  function displayClientData (access) {\n    if (access.clientData) {\n      if (access.clientData['app-web-auth:description']) {\n        return  marked(access.clientData['app-web-auth:description'].content);\n      }\n      return marked(access.clientData);\n    }\n    return '-';\n  }\n\n\n  function modifiedDate (access) {\n    if (access.modified !== access.created) return displayDate('modified')(access);\n    return '-';\n  }\n\n  function modifiedBy(access) {\n    if (access.modifiedBy !== access.createdBy) return displayBy('modified')(access);\n    return '-';\n  }\n\n  function displayPermission(access) {\n    if (access.type === 'personal') return 'System or Owner';\n    return access.permissions;\n  }\n\n  // ----- Audit ------------- //\n  import Audit from './Audit.vue'\n\n  export default {\n    name: 'Data',\n    props: [\n\n    ],\n    components: {\n      Audit\n    },\n    data () {\n      return {\n        auditLogs: [],\n        auditLogsMap: {}, // by accessId\n        access: this.selectedAccess,\n        connection: this.connection,\n        state: 'loading',\n        details: details,\n        apiUrl: ''\n      }\n    },\n    computed: {\n\n    },\n    async created () {\n      this.access = null;\n      this.connection =  window.pryvConnection;\n      this.state = 'ok';\n\n      const serviceInfoUrl = this.connection.settings.serviceInfoUrl;\n      let serviceInfoRes;\n      try {\n        serviceInfoRes = await request.get(serviceInfoUrl);\n      } catch (error) {\n        console.error(error);\n        return;\n      }\n      this.apiUrl = serviceInfoRes.body.api;\n      if(this.apiUrl == null) {\n        console.error('Can\\'t get api url on ' + serviceInfoUrl);\n        return;\n      }\n    },\n    methods:{\n      selectAccess : async function(access){\n        console.log('Data selected Access:' + access.name);\n        this.access = access;\n\n        if (this.access == null || this.auditLogsMap == null) {\n          return this.auditLogs = [];\n        }\n        if (this.auditLogsMap[access.id] != null) {\n          return this.auditLogs = this.auditLogsMap[access.id];\n        }\n\n        this.state = 'loading';\n        let self = this;\n\n        const connectionSettings = this.connection.settings;\n        const auth = connectionSettings.auth;\n        const username = connectionSettings.username;\n\n        if(this.apiUrl == null) {\n          console.error('apiUrl is not set');\n          return;\n        }\n        const apiEndpoint = this.apiUrl.replace('{username}', username);\n        const auditUrl = url.resolve(apiEndpoint, '/audit/logs');\n\n        let res;\n        try {\n          res = await request.get(auditUrl)\n            .set('Authorization', auth)\n            .query({accessId: access.id});\n        } catch (error) {\n          console.log(error);\n          self.state = 'nok';\n          return;\n        }\n        const logs = res.body.auditLogs;\n        self.auditLogsMap[access.id] = logs;\n        self.auditLogs = logs;\n        self.state = 'ok';\n      }\n    }\n  }\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/components/Data.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"data\"}},[(_vm.state == 'loading')?_c('div',[_vm._v(\"\\n    Loading ...\\n  \")]):_c('div',[(_vm.state == 'nok')?_c('div',[_vm._v(\"\\n      Failed\\n    \")]):_c('div',[_vm._v(\"\\n      Details\\n      \"),(_vm.access)?_c('div',[_c('div',{staticClass:\"headline\"},[_vm._v(_vm._s(_vm.access.name))]),_vm._v(\" \"),_vm._l((_vm.details),function(detail){return _c('ul',[(detail.display(_vm.access) !== '-')?_c('li',{staticClass:\"grey--text\",staticStyle:{\"white-space\":\"nowrap\",\"text-align\":\"center\"}},[_c('B',[_vm._v(_vm._s(detail.title))]),_vm._v(\" — \"),_c('span',{domProps:{\"innerHTML\":_vm._s(detail.display(_vm.access))}})],1):_vm._e()])})],2):_c('div',[_c('H3',[_vm._v(\"-\")])],1),_vm._v(\" \"),_c('Audit',{attrs:{\"auditLogs\":_vm.auditLogs}})],1)])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-01541e0b\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Data.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Data.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Data.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-01541e0b\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Data.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Data.vue\n// module id = null\n// module chunks = ","<template>\n  <div id=\"mainView\">\n    <split-pane v-on:resize=\"resize\" :min-percent='50' :default-percent='50' split=\"vertical\">\n      <template slot=\"paneL\">\n        <Accesses :onSelectProp=\"onAccessSelect\"/>\n      </template>\n      <template slot=\"paneR\">\n        <Data ref=\"dataView\"/>\n      </template>\n    </split-pane>\n\n  </div>\n</template>\n\n<script>\n\n  import splitPane from 'vue-splitpane'\n  import Accesses from './Accesses.vue'\n  import Data from './Data.vue'\n\n  export default {\n    name: 'main',\n    components: {\n      Accesses,\n      splitPane,\n      Data\n    },\n    methods: {\n      onEventLoaded: function () {\n\n      },\n      onAccessSelect: function (access) {\n        console.log(\"*****\", access);\n        this.$refs.dataView.selectAccess(access);\n      },\n      resize() {\n        console.log('resize')\n      }\n    }\n  }\n</script>\n<!-- styling for the component -->\n<style>\n  #about {\n    font-family: 'Roboto', Helvetica, Arial, sans-serif;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n    text-align: center;\n    color: #2c3e50;\n    margin-top: 60px;\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/Main.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"mainView\"}},[_c('split-pane',{attrs:{\"min-percent\":50,\"default-percent\":50,\"split\":\"vertical\"},on:{\"resize\":_vm.resize}},[_c('template',{slot:\"paneL\"},[_c('Accesses',{attrs:{\"onSelectProp\":_vm.onAccessSelect}})],1),_vm._v(\" \"),_c('template',{slot:\"paneR\"},[_c('Data',{ref:\"dataView\"})],1)],2)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-e353657c\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Main.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-e353657c\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Main.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Main.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Main.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-e353657c\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Main.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Main.vue\n// module id = null\n// module chunks = ","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\n//import the vue instance\nimport Vue from 'vue'\n\nimport Vuetify from 'vuetify'\n\nVue.use(Vuetify)\n\nimport 'vuetify/dist/vuetify.min.css' // Ensure you are using css-loader\n\n//import the App component\nimport App from './App'\n//import the vue router\nimport VueRouter from 'vue-router'\n//tell vue to use the router\nVue.use(VueRouter)\n//import the hello component\nimport Main from './components/Main'\n\n\n\n//define your routes\nconst routes = [\n//route for the home route of the web page\n  { path: '/', component: Main },\n\n]\n\nconst router = new VueRouter({\n  base: window.location.pathname,\n  routes, // short for routes: routes\n  mode: 'hash'\n})\n\nwindow.v = new Vue({\n//define the selector for the root component\n  el: '#app',\n  //pass the template to the root component\n  template: '<App/>',\n  //declare components that the root component can access\n  components: { App },\n  //pass in the router to the Vue instance\n  router\n}).$mount('#app')\n//mount the router on the app\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js"],"sourceRoot":""}